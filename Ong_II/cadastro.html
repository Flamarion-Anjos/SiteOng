<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Cadastro - Anjos de Combate">
  <title>Cadastro | Anjos de Combate</title>
  <link rel="stylesheet" href="assets/css/design-system.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <style>
      :root {
      --azul: #003366;
      --dourado: #f0b429;
      --cinza: #f7f7f7;
      --escuro: #222;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background-color: var(--cinza);
      color: var(--escuro);
      line-height: 1.6;
    }

    header {
      background: var(--azul);
      color: white;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    header h1 { margin: 0; font-size: 1.5rem; align-items: center;}
    nav ul {
      list-style: none;
      display: flex;
      gap: 1rem;
      padding: 0;
      margin: 0;
      
    }

    header h2 { margin: 0; font-size: 1.5rem; }
   
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
     
    }

    nav a:hover {
      color: var(--dourado);
    }

    main {
      max-width: 800px;
      margin: 2rem auto;
      background: #fff;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      color: #1d3557;
    }

    form {
      display: grid;
      gap: 1rem;
    }

    label {
      font-weight: bold;
      display: block;
      margin-bottom: 0.3rem;
    }

    input, select {
      width: 100%;
      padding: 0.6rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
    }

    input:focus, select:focus {
      outline: none;
      border-color: #457b9d;
      box-shadow: 0 0 3px #a8dadc;
    }

    button {
      background: #1d3557;
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s;
      align-items: center;

    }

    button:hover {
      background: #457b9d;
    }
      
    
    .erro {
      border: 2px solid #e63946;
      background-color: #ffe5e5;
    }

    .alerta-erro, .alerta-sucesso {
      padding: 10px;
      border-radius: 5px;
      margin-top: 15px;
    }

    .alerta-erro {
      background: #ffe6e6;
      color: #b00020;
      border-left: 5px solid #b00020;
    }

    .alerta-sucesso {
      background: #e8f5e9;
      color: #2e7d32;
      border-left: 5px solid #2e7d32;
    }

    footer {
      background: #2b2d42;
      color: #fff;
      text-align: center;
      padding: 1rem;
      margin-top: 2rem;
      font-size: 0.9rem;
    }

    @media (max-width: 600px) {
      nav ul { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>
    <header class="site-header">
  <div class="container header-inner">
    <div class="brand">
      
      <img src="assets/images/logo.png">
      <h2>Anjos de Combate</h2>
    </div>

    <nav class="site-nav" aria-label="Main navigation">
      <ul>
        <li><a href="index.html">Início</a></li>
        <li><a href="projetos.html">Projetos</a></li>
        <li><a href="cadastro.html">Cadastro</a></li>
      </ul>
    </nav>

    <button class="menu-toggle" aria-expanded="false" aria-controls="main-nav">☰</button>
  </div>
</header>
  <main>
    <h1>Cadastro de Participante</h1>
    <form id="cadastroForm" class="form" novalidate>
      <div id="form-feedback" aria-live="polite"></div>

      <label> * Preenchimento Obrigatório</label>
    <div>
      <label for="nome">Nome completo *</label>
      <input type="text" id="nome" class="input" name="nome" required>
    </div>
    <div>
      <label for="email">E-mail *</label>
      <input type="email" id="email" class="input" name="email" required>
    </div>
    
      <div>
      <label for="cpf">CPF *</label>
      <input type="text" id="cpf" class="input"  maxlength="14" required>
      </div>

     <label for="telefone">Telefone *</label>
     <input type="tel" id="telefone" class="input" name="telefone" maxlength="15" required>
  

    </div>
      <div>
      <label for="nascimento">Data de nascimento *</label>
      <input type="date" id="nascimento" class="input" name="nascimento"required>
      </div>
      <div>
      <label for="cep">CEP *</label>
      <input type="text" id="cep" class="input" name="cep" maxlength="9" required>
      </div>
      <div>
      <label for="endereco">Endereço *</label>
      <input type="text" id="endereco" class="input" name="endereco" required>
      </div>
      <div>
      <label for="cidade">Cidade *</label>
      <input type="text" id="cidade" class="input" name="cidade"required>
      </div>
      <div>
      <label for="estado">Estado *</label>
        <select id="estado" class="input" name="estado" required>
         <option value="">Selecione Seu Estado...</option>
         <option value="SP">São Paulo</option>
         <option value="PR">Paraná</option>
          <option value="SC">Santa Catarina</option>
         <option value="RS">Rio Grande do Sul</option>
       </select>
      </div>
      <div>
      <label for="interesse">Interesse *</label>
      <select id="interesse"class="input" name="interesse" required>
        <option value="">Selecione...</option>
        <option value="voluntario">Voluntário</option>
        <option value="doacao">Doação</option>
        <option value="parceria">Parceria</option>
      </select>
      </div>
      <div>
      <label for="comentario">Comentário ou mensagem *</label>
      <textarea id="comentario" required name="comentario" placeholder="Escreva sua mensagem..."></textarea>
      </div>
      <div>
      <button type="submit">Enviar Cadastro</button>
      
    </div>
    </form>
  </main>

    <footer>
    <p>&copy; <span id="year"></span> Anjos de Combate. Todos os direitos reservados.</p>
    <p>Compilado, em outubro de 2025, por Flamarion Silva dos Anjos como parte dos estudos da Disciplina de Desenvolvimento Front-End Para Web</p>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const form = document.getElementById('cadastroForm');
    const feedback = document.getElementById('form-feedback');

    form.addEventListener('submit', e => {
      e.preventDefault();
      let valido = true;
      let mensagens = [];

      form.querySelectorAll('.erro').forEach(el => el.classList.remove('erro'));

      const campos = [
        'nome','email','cpf','telefone','nascimento',
        'cep','endereco','cidade','estado','interesse','comentario'
      ];

      campos.forEach(id => {
        const campo = document.getElementById(id);
        if(!campo.value.trim()){
          valido = false;
          campo.classList.add('erro');
          mensagens.push(`O campo "${id}" é obrigatório.`);
        }
      });

      const email = document.getElementById('email').value;
      if(email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)){
        valido = false;
        mensagens.push('E-mail inválido.');
      }

      if(!valido){
        feedback.innerHTML = `<div class="alerta-erro"><strong>Corrija os erros:</strong><ul>${mensagens.map(m=>`<li>${m}</li>`).join('')}</ul></div>`;
        feedback.scrollIntoView({behavior:'smooth'});
      } else {
        feedback.innerHTML = `<div class="alerta-sucesso"><strong>Cadastro enviado com sucesso!</strong></div>`;
        form.reset();
      }
    });
  
// --- Máscaras para CPF, Telefone e CEP e armazenamento de usuário ---
(function(){
  function maskCPF(v){ return v.replace(/\D/g,'').replace(/(\d{3})(\d)/,'$1.$2').replace(/(\d{3})(\d)/,'$1.$2').replace(/(\d{3})(\d{1,2})$/,'$1-$2'); }
  function maskTel(v){ v=v.replace(/\D/g,''); if(v.length>10) return v.replace(/(\d{2})(\d{5})(\d{4})/,'($1) $2-$3'); return v.replace(/(\d{2})(\d{4})(\d{0,4})/,'($1) $2-$3'); }
  function maskCEP(v){ return v.replace(/\D/g,'').replace(/(\d{5})(\d{1,3})/,'$1-$2'); }

  var cpf = document.getElementById('cpf');
  var tel = document.getElementById('telefone');
  var cep = document.getElementById('cep');
  if(cpf) cpf.addEventListener('input', function(e){ e.target.value = maskCPF(e.target.value); });
  if(tel) tel.addEventListener('input', function(e){ e.target.value = maskTel(e.target.value); });
  if(cep) cep.addEventListener('input', function(e){ e.target.value = maskCEP(e.target.value); });

  
  var form = document.getElementById('cadastroForm');
  if(form){
    form.addEventListener('submit', function(e){
      
      var feedback = document.getElementById('form-feedback');
      var observer = new MutationObserver(function(mutations){
        mutations.forEach(function(m){
          if(m.addedNodes && m.addedNodes.length){
            var added = m.addedNodes[0];
            if(added && added.classList && added.classList.contains('alerta-sucesso')){
              try{
                var nome = document.getElementById('nome').value.trim();
                var email = document.getElementById('email').value.trim();
                var cpfv = document.getElementById('cpf').value.trim();
                var telv = document.getElementById('telefone').value.trim();
                var interesse = document.getElementById('interesse').value;
                var usuarios = JSON.parse(localStorage.getItem('usuarios')||'[]');
                if(!usuarios.some(function(u){ return u.email===email; })){
                  usuarios.push({nome:nome,email:email,cpf:cpfv,telefone:telv,interesse:interesse});
                  localStorage.setItem('usuarios', JSON.stringify(usuarios));
                }
              }catch(err){ console.error(err); }
            }
          }
        });
      });
      if(feedback) observer.observe(feedback, {childList:true});
    });
  }

})();
// 
</script>
  <script src="assets/js/main.js"></script>
  <script src="assets/js/script.js"></script>
  <script src="assets/js/ui.js"></script>

</body>
</html>